var rand=function(t){var e,r,n,i,t=function(t){for(var e=2166136261,r=0;r<t.length;r++)e=Math.imul(e^t.charCodeAt(r),16777619);return function(){return e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,(e+=e<<5)>>>0}}(t);return e=t(),r=t(),n=t(),i=t(),function(){var t=(e>>>=0)+(r>>>=0)|0;return e=r^r>>>9,r=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(t=t+(i=(i>>>=0)+1|0)|0)|0,(t>>>0)/4294967296}},__assign=function(){return(__assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},copyPoint=function(t){return{x:t.x,y:t.y,handleIn:__assign({},t.handleIn),handleOut:__assign({},t.handleOut)}},forPoints=function(r,n){function t(t){function e(t){return copyPoint(r[mod(t,r.length)])}n({curr:copyPoint(r[t]),index:t,sibling:e,prev:function(){return e(t-1)},next:function(){return e(t+1)}})}for(var e=0;e<r.length;e++)t(e)},mapPoints=function(t,e){var r=[];return forPoints(t,function(t){r.push(e(t))}),r},angleOf=function(t,e){var r=e.x-t.x,t=-e.y+t.y,r=Math.atan2(t,r);return r<0?Math.abs(r):2*Math.PI-r},expandHandle=function(t,e){return{x:t.x+e.length*Math.cos(e.angle),y:t.y+e.length*Math.sin(e.angle)}},smooth=function(t,i){return mapPoints(t,function(t){var e=t.curr,r=t.next,n=t.prev,t=angleOf(n(),r());return{x:e.x,y:e.y,handleIn:{angle:t+Math.PI,length:i*distance(e,n())},handleOut:{angle:t,length:i*distance(e,r())}}})},mod=function(t,e){return(t%e+e)%e},distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},renderPath=function(t){var n="M"+t[0].x+","+t[0].y;return forPoints(t,function(t){var e=t.curr,r=(0,t.next)(),t=expandHandle(e,e.handleOut),e=expandHandle(r,r.handleIn);n+="C"+t.x+","+t.y+","+e.x+","+e.y+","+r.x+","+r.y}),n},renderEditable=function(t,e){var r=e.stroke||(e.guides?"black":"none"),n=e.strokeWidth||(e.guides?1:0),i=new XmlElement("svg");i.attributes.width=e.width,i.attributes.height=e.height,i.attributes.viewBox="0 0 "+e.width+" "+e.height,i.attributes.xmlns="http://www.w3.org/2000/svg";var o=new XmlElement("g");o.attributes.transform=e.transform||"";var s,u,a=new XmlElement("path");return a.attributes.stroke=r,a.attributes["stroke-width"]=n,a.attributes.fill=e.fill||"none",a.attributes.d=renderPath(t),o.children.push(a),i.children.push(o),e.guides&&(s=e.stroke||"black",u=e.strokeWidth||1,e.boundingBox&&((a=new XmlElement("rect")).attributes.x=0,a.attributes.y=0,a.attributes.width=e.width,a.attributes.height=e.height,a.attributes.fill="none",a.attributes.stroke=s,a.attributes["stroke-width"]=2*u,a.attributes["stroke-dasharray"]=2*u,o.children.push(a)),forPoints(t,function(t){var e=t.curr,r=(0,t.next)(),n=expandHandle(e,e.handleOut),i=expandHandle(r,r.handleIn),a=new XmlElement("line");a.attributes.x1=e.x,a.attributes.y1=e.y,a.attributes.x2=n.x,a.attributes.y2=n.y,a.attributes["stroke-width"]=u,a.attributes.stroke=s;t=new XmlElement("line");t.attributes.x1=r.x,t.attributes.y1=r.y,t.attributes.x2=i.x,t.attributes.y2=i.y,t.attributes["stroke-width"]=u,t.attributes.stroke=s,t.attributes["stroke-dasharray"]=2*u;r=new XmlElement("circle");r.attributes.cx=n.x,r.attributes.cy=n.y,r.attributes.r=u,r.attributes.fill=s;n=new XmlElement("circle");n.attributes.cx=i.x,n.attributes.cy=i.y,n.attributes.r=u,n.attributes.fill=s;i=new XmlElement("circle");i.attributes.cx=e.x,i.attributes.cy=e.y,i.attributes.r=2*u,i.attributes.fill=s,o.children.push(a),o.children.push(t),o.children.push(r),o.children.push(n),o.children.push(i)})),i},XmlElement=function(){function t(t){this.tag=t,this.attributes={},this.children=[]}return t.prototype.render=function(){var t=this.renderAttributes(),e=this.renderChildren();return""===e?"<"+this.tag+t+"/>":"<"+this.tag+t+">"+e+"</"+this.tag+">"},t.prototype.renderAttributes=function(){var t=Object.keys(this.attributes);if(0===t.length)return"";for(var e="",r=0,n=t;r<n.length;r++){var i=n[r];e+=" "+i+'="'+this.attributes[i]+'"'}return e},t.prototype.renderChildren=function(){for(var t="",e=0,r=this.children;e<r.length;e++)t+=r[e].render();return t},t}(),genBlob=function(t,e){for(var r=2*Math.PI/t,n=[],i=0;i<t;i++){var a=e(),o=Math.sin(i*r),s=Math.cos(i*r);n.push({x:.5+o*a,y:.5+s*a,handleIn:{angle:0,length:0},handleOut:{angle:0,length:0}})}var u=4/3*Math.tan(r/4)/Math.sin(r/2)/2;return smooth(n,u)},isBrowser=new Function("try {return this===window;}catch(e){ return false;}"),isLocalhost=function(){return"localhost"===location.hostname||"127.0.0.1"===location.hostname},isFile=function(){return"file:"===location.protocol};isBrowser()&&!isLocalhost()&&!isFile()||console.warn("You are using the legacy blobs API!\nPlease use 'blobs/v2' instead.");var blobs=function(t){return blobs.editable(t).render()};blobs.editable=function(e){if(!e)throw new Error("no options specified");var t=rand(e.seed||String(Math.random()));if(!e.size)throw new Error("no size specified");if(!e.stroke&&!e.color)throw new Error("no color or stroke specified");if(e.complexity<=0||1<e.complexity)throw new Error("complexity out of range ]0,1]");if(e.contrast<0||1<e.contrast)throw new Error("contrast out of range [0,1]");var r=3+Math.floor(14*e.complexity),n=mapPoints(genBlob(r,function(){return(1-.8*e.contrast*t())/Math.E}),function(t){t=t.curr;return t.x*=e.size,t.y*=e.size,t.handleIn.length*=e.size,t.handleOut.length*=e.size,t.y=e.size-t.y,t.handleIn.angle*=-1,t.handleOut.angle*=-1,t});return renderEditable(n,{closed:!0,width:e.size,height:e.size,fill:e.color,transform:"rotate("+t()*(360/r)+","+e.size/2+","+e.size/2+")",stroke:e.stroke&&e.stroke.color,strokeWidth:e.stroke&&e.stroke.width,guides:e.guides})},blobs.xml=function(t){return new XmlElement(t)};export default blobs;
//# sourceMappingURL=index.module.js.map

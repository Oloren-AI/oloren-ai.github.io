!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).blobs=e()}(this,function(){"use strict";function i(t){return{x:t.x,y:t.y,handleIn:e({},t.handleIn),handleOut:e({},t.handleOut)}}function l(r,n){for(var t=function(t){function e(t){return i(r[a(t,r.length)])}n({curr:i(r[t]),index:t,sibling:e,prev:function(){return e(t-1)},next:function(){return e(t+1)}})},e=0;e<r.length;e++)t(e)}function u(t,e){var r=[];return l(t,function(t){r.push(e(t))}),r}function c(t,e){return{x:t.x+e.length*Math.cos(e.angle),y:t.y+e.length*Math.sin(e.angle)}}function h(t,o){return u(t,function(t){var e,r,n=t.curr,i=t.next,a=t.prev,t=(e=a(),r=i(),t=r.x-e.x,e=-r.y+e.y,(t=Math.atan2(e,t))<0?Math.abs(t):2*Math.PI-t);return{x:n.x,y:n.y,handleIn:{angle:t+Math.PI,length:o*s(n,a())},handleOut:{angle:t,length:o*s(n,i())}}})}function d(t,e){var r=e.stroke||(e.guides?"black":"none"),n=e.strokeWidth||(e.guides?1:0),i=new f("svg");i.attributes.width=e.width,i.attributes.height=e.height,i.attributes.viewBox="0 0 "+e.width+" "+e.height,i.attributes.xmlns="http://www.w3.org/2000/svg";var o=new f("g");o.attributes.transform=e.transform||"";var a,s,u,h=new f("path");return h.attributes.stroke=r,h.attributes["stroke-width"]=n,h.attributes.fill=e.fill||"none",h.attributes.d=(a="M"+t[0].x+","+t[0].y,l(t,function(t){var e=t.curr,r=(0,t.next)(),t=c(e,e.handleOut),e=c(r,r.handleIn);a+="C"+t.x+","+t.y+","+e.x+","+e.y+","+r.x+","+r.y}),a),o.children.push(h),i.children.push(o),e.guides&&(s=e.stroke||"black",u=e.strokeWidth||1,e.boundingBox&&((h=new f("rect")).attributes.x=0,h.attributes.y=0,h.attributes.width=e.width,h.attributes.height=e.height,h.attributes.fill="none",h.attributes.stroke=s,h.attributes["stroke-width"]=2*u,h.attributes["stroke-dasharray"]=2*u,o.children.push(h)),l(t,function(t){var e=t.curr,r=(0,t.next)(),n=c(e,e.handleOut),i=c(r,r.handleIn),a=new f("line");a.attributes.x1=e.x,a.attributes.y1=e.y,a.attributes.x2=n.x,a.attributes.y2=n.y,a.attributes["stroke-width"]=u,a.attributes.stroke=s;t=new f("line");t.attributes.x1=r.x,t.attributes.y1=r.y,t.attributes.x2=i.x,t.attributes.y2=i.y,t.attributes["stroke-width"]=u,t.attributes.stroke=s,t.attributes["stroke-dasharray"]=2*u;r=new f("circle");r.attributes.cx=n.x,r.attributes.cy=n.y,r.attributes.r=u,r.attributes.fill=s;n=new f("circle");n.attributes.cx=i.x,n.attributes.cy=i.y,n.attributes.r=u,n.attributes.fill=s;i=new f("circle");i.attributes.cx=e.x,i.attributes.cy=e.y,i.attributes.r=2*u,i.attributes.fill=s,o.children.push(a),o.children.push(t),o.children.push(r),o.children.push(n),o.children.push(i)})),i}var e=function(){return(e=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=function(t,e){return(t%e+e)%e},s=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},f=(t.prototype.render=function(){var t=this.renderAttributes(),e=this.renderChildren();return""===e?"<"+this.tag+t+"/>":"<"+this.tag+t+">"+e+"</"+this.tag+">"},t.prototype.renderAttributes=function(){var t=Object.keys(this.attributes);if(0===t.length)return"";for(var e="",r=0,n=t;r<n.length;r++){var i=n[r];e+=" "+i+'="'+this.attributes[i]+'"'}return e},t.prototype.renderChildren=function(){for(var t="",e=0,r=this.children;e<r.length;e++)t+=r[e].render();return t},t);function t(t){this.tag=t,this.attributes={},this.children=[]}new Function("try {return this===window;}catch(e){ return false;}")()&&"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"file:"!==location.protocol||console.warn("You are using the legacy blobs API!\nPlease use 'blobs/v2' instead.");var r=function(t){return r.editable(t).render()};return r.editable=function(e){if(!e)throw new Error("no options specified");var r,n,i,a,t=(s=function(t){for(var e=2166136261,r=0;r<t.length;r++)e=Math.imul(e^t.charCodeAt(r),16777619);return function(){return e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,(e+=e<<5)>>>0}}(s=e.seed||String(Math.random())),r=s(),n=s(),i=s(),a=s(),function(){var t=(r>>>=0)+(n>>>=0)|0;return r=n^n>>>9,n=(i>>>=0)+(i<<3)|0,i=(i=i<<21|i>>>11)+(t=t+(a=(a>>>=0)+1|0)|0)|0,(t>>>0)/4294967296});if(!e.size)throw new Error("no size specified");if(!e.stroke&&!e.color)throw new Error("no color or stroke specified");if(e.complexity<=0||1<e.complexity)throw new Error("complexity out of range ]0,1]");if(e.contrast<0||1<e.contrast)throw new Error("contrast out of range [0,1]");var o=3+Math.floor(14*e.complexity),s=u(function(t,e){for(var r=2*Math.PI/t,n=[],i=0;i<t;i++){var a=e(),o=Math.sin(i*r),s=Math.cos(i*r);n.push({x:.5+o*a,y:.5+s*a,handleIn:{angle:0,length:0},handleOut:{angle:0,length:0}})}var u=4/3*Math.tan(r/4)/Math.sin(r/2)/2;return h(n,u)}(o,function(){return(1-.8*e.contrast*t())/Math.E}),function(t){t=t.curr;return t.x*=e.size,t.y*=e.size,t.handleIn.length*=e.size,t.handleOut.length*=e.size,t.y=e.size-t.y,t.handleIn.angle*=-1,t.handleOut.angle*=-1,t});return d(s,{closed:!0,width:e.size,height:e.size,fill:e.color,transform:"rotate("+t()*(360/o)+","+e.size/2+","+e.size/2+")",stroke:e.stroke&&e.stroke.color,strokeWidth:e.stroke&&e.stroke.width,guides:e.guides})},r.xml=function(t){return new f(t)},r});
//# sourceMappingURL=index.js.map
